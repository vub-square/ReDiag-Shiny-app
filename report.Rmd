---
title: "ReDiag: Analysis Report"
author: " "
date: "`r format(Sys.time(), '%d %B, %Y')`"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  message = FALSE,
  warning = FALSE
)
```

This is a dynamic report automatically generated by the ReDiag app (<https://percysavieri.shinyapps.io/ReDiag/>). It consists of sections that include the selected variables, summary of the regression analysis and the model diagnostics.

## Selected variables  

```{r echo = FALSE, comment = NA}
cat(input2txt(input))
```

## Regression model results  

Results of the fitted regression model are shown in the following table:    

```{r echo = FALSE, comment = NA}
#tab_model(regModel())
summary(regModel())
#mtable(regModel())
```

## Model diagnostics  

The followings visualisations were produced to assess the linearity and normality assumptions of the fitted regression model. Theoretical interpretations of the ideal or acceptable plots is provided for each figure.  

### Plot of observed vs fitted values   

```{r echo = FALSE, comment = NA}
suppressWarnings(ovf_plot())
```

The observed vs fitted values scatter plot measures the accuracy of the fitted model and assesses any strong deviations from the regression line. The correlation between the model predictions and its actual results can also be visualized. If the loess curve approximately follows the regression line, the linearity assumption is met.  

### Plot of residuals vs fitted values  

```{r echo = FALSE, comment = NA}
suppressWarnings(rvf_plot())
```

When the linear regression model is correct, the points should be randomly scattered around the zero-line (the horizontal line where residuals equal zero), with no systematic pattern. This zero-line represents the situation where there is no difference between observed and fitted values of Y. The loess curve should approxiamtely follow the zero-line and curvature could indicate model misspecification and non-linearity.  

### QQ-Plot of sample vs theoretical quantiles  

```{r echo = FALSE, comment = NA}
suppressWarnings(qq_plot())
```

The ordered residuals are plotted against theoretical expected values for a standard normal sample. A normal probability plot with a straight-line pattern implies that the assumption of normality is reasonable.  

### Histogram of the residuals

```{r echo = FALSE, comment = NA}
suppressWarnings(hist_plot())
```

To provide a decent indicator of normality of the residuals, the histogram should have some symmetry and a bell-shape. The main objective is to avoid seeing histograms that are very irregularly shaped (e.g., heavily skewed).  

### Scale-location plot

```{r echo = FALSE, comment = NA}
suppressWarnings(scaleloc_plot())
```

The homoscedasticity assumption holds if the points are scattered randomly around a horizontal line. The points should not exhibit any pattern or trend.  





















